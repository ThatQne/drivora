{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thato\\\\Downloads\\\\car-app\\\\src\\\\components\\\\trades\\\\TradeDetailModal.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { X, Check, ArrowLeftRight, MessageCircle, DollarSign, Car } from 'lucide-react';\nimport { useApp } from '../../context/AppContext.tsx';\nimport { updateTrade, sendMessage } from '../../services/apiService';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function TradeDetailModal({\n  trade,\n  isOutbound,\n  onClose\n}) {\n  _s();\n  var _trade$offererVehicle, _trade$receiverVehicl, _targetVehicle$images;\n  const {\n    state: {\n      currentUser: user,\n      vehicles: userVehicles,\n      allListings: listings,\n      users\n    },\n    updateTrade: updateTradeFromContext,\n    sendMessage: sendMessageFromContext\n  } = useApp();\n  const [newMessage, setNewMessage] = useState('');\n  const [showCounterModal, setShowCounterModal] = useState(false);\n  const [counterVehicleIds, setCounterVehicleIds] = useState([]);\n  const [counterCashAmount, setCounterCashAmount] = useState(0);\n  const [counterMessage, setCounterMessage] = useState('');\n\n  // Get trade participants\n  const offererUser = users.find(u => {\n    var _trade$offererUserId, _trade$offererUserId2;\n    return (typeof trade.offererUserId === 'string' ? trade.offererUserId : ((_trade$offererUserId = trade.offererUserId) === null || _trade$offererUserId === void 0 ? void 0 : _trade$offererUserId._id) || ((_trade$offererUserId2 = trade.offererUserId) === null || _trade$offererUserId2 === void 0 ? void 0 : _trade$offererUserId2.id)) === u.id;\n  }) || (typeof trade.offererUserId === 'object' ? trade.offererUserId : null);\n  const receiverUser = users.find(u => {\n    var _trade$receiverUserId, _trade$receiverUserId2;\n    return (typeof trade.receiverUserId === 'string' ? trade.receiverUserId : ((_trade$receiverUserId = trade.receiverUserId) === null || _trade$receiverUserId === void 0 ? void 0 : _trade$receiverUserId._id) || ((_trade$receiverUserId2 = trade.receiverUserId) === null || _trade$receiverUserId2 === void 0 ? void 0 : _trade$receiverUserId2.id)) === u.id;\n  }) || (typeof trade.receiverUserId === 'object' ? trade.receiverUserId : null);\n\n  // Get listing\n  const listing = listings.find(l => {\n    var _trade$listingId, _trade$listingId2;\n    return (typeof trade.listingId === 'string' ? trade.listingId : ((_trade$listingId = trade.listingId) === null || _trade$listingId === void 0 ? void 0 : _trade$listingId._id) || ((_trade$listingId2 = trade.listingId) === null || _trade$listingId2 === void 0 ? void 0 : _trade$listingId2.id)) === l.id;\n  }) || (typeof trade.listingId === 'object' ? trade.listingId : null);\n\n  // Get vehicles\n  const targetVehicle = listing ? userVehicles.find(v => v.id === listing.vehicleId) : null;\n  const offererVehicles = ((_trade$offererVehicle = trade.offererVehicleIds) === null || _trade$offererVehicle === void 0 ? void 0 : _trade$offererVehicle.map(id => userVehicles.find(v => v.id === id)).filter(Boolean)) || [];\n  const receiverVehicles = ((_trade$receiverVehicl = trade.receiverVehicleIds) === null || _trade$receiverVehicl === void 0 ? void 0 : _trade$receiverVehicl.map(id => userVehicles.find(v => v.id === id)).filter(Boolean)) || [];\n\n  // Calculate values\n  const offererValue = offererVehicles.reduce((sum, vehicle) => sum + ((vehicle === null || vehicle === void 0 ? void 0 : vehicle.customPrice) || (vehicle === null || vehicle === void 0 ? void 0 : vehicle.estimatedValue) || 0), 0) + (trade.offererCashAmount || 0);\n  const receiverValue = receiverVehicles.reduce((sum, vehicle) => sum + ((vehicle === null || vehicle === void 0 ? void 0 : vehicle.customPrice) || (vehicle === null || vehicle === void 0 ? void 0 : vehicle.estimatedValue) || 0), 0) + (trade.receiverCashAmount || 0);\n  const formatTimeAgo = dateString => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffInMinutes = Math.floor((now.getTime() - date.getTime()) / (1000 * 60));\n    if (diffInMinutes < 1) return 'Just now';\n    if (diffInMinutes < 60) return `${diffInMinutes}m ago`;\n    if (diffInMinutes < 1440) return `${Math.floor(diffInMinutes / 60)}h ago`;\n    return `${Math.floor(diffInMinutes / 1440)}d ago`;\n  };\n  const handleAcceptTrade = async () => {\n    try {\n      await updateTrade(trade.id, {\n        status: 'accepted'\n      });\n      await loadAllListings();\n      onClose();\n    } catch (error) {\n      console.error('Error accepting trade:', error);\n    }\n  };\n  const handleRejectTrade = async () => {\n    try {\n      await updateTrade(trade.id, {\n        status: 'rejected'\n      });\n      await loadAllListings();\n      onClose();\n    } catch (error) {\n      console.error('Error rejecting trade:', error);\n    }\n  };\n  const handleCancelTrade = async () => {\n    try {\n      await updateTrade(trade.id, {\n        status: 'cancelled'\n      });\n      await loadAllListings();\n      onClose();\n    } catch (error) {\n      console.error('Error cancelling trade:', error);\n    }\n  };\n  const handleCounterOffer = async () => {\n    try {\n      await updateTrade(trade.id, {\n        status: 'countered',\n        receiverVehicleIds: counterVehicleIds,\n        receiverCashAmount: counterCashAmount,\n        counterMessage: counterMessage\n      });\n      await loadAllListings();\n      setShowCounterModal(false);\n      onClose();\n    } catch (error) {\n      console.error('Error sending counter offer:', error);\n    }\n  };\n  const handleSendMessage = async () => {\n    if (!newMessage.trim()) return;\n    try {\n      var _trade$receiverUserId3, _trade$receiverUserId4, _trade$offererUserId3, _trade$offererUserId4;\n      const otherUserId = isOutbound ? typeof trade.receiverUserId === 'string' ? trade.receiverUserId : ((_trade$receiverUserId3 = trade.receiverUserId) === null || _trade$receiverUserId3 === void 0 ? void 0 : _trade$receiverUserId3._id) || ((_trade$receiverUserId4 = trade.receiverUserId) === null || _trade$receiverUserId4 === void 0 ? void 0 : _trade$receiverUserId4.id) : typeof trade.offererUserId === 'string' ? trade.offererUserId : ((_trade$offererUserId3 = trade.offererUserId) === null || _trade$offererUserId3 === void 0 ? void 0 : _trade$offererUserId3._id) || ((_trade$offererUserId4 = trade.offererUserId) === null || _trade$offererUserId4 === void 0 ? void 0 : _trade$offererUserId4.id);\n      await sendMessage({\n        receiverId: otherUserId,\n        content: newMessage,\n        tradeId: trade.id\n      });\n      setNewMessage('');\n    } catch (error) {\n      console.error('Error sending message:', error);\n    }\n  };\n  const handleVehicleToggle = vehicleId => {\n    setCounterVehicleIds(prev => prev.includes(vehicleId) ? prev.filter(id => id !== vehicleId) : [...prev, vehicleId]);\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'pending':\n        return 'text-yellow-400';\n      case 'accepted':\n        return 'text-green-400';\n      case 'rejected':\n        return 'text-red-400';\n      case 'cancelled':\n        return 'text-gray-400';\n      case 'countered':\n        return 'text-purple-400';\n      default:\n        return 'text-primary-300';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    exit: {\n      opacity: 0\n    },\n    className: \"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\",\n    onClick: e => e.target === e.currentTarget && onClose(),\n    children: /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        scale: 0.9,\n        opacity: 0\n      },\n      animate: {\n        scale: 1,\n        opacity: 1\n      },\n      exit: {\n        scale: 0.9,\n        opacity: 0\n      },\n      className: \"glass-effect rounded-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between p-6 border-b border-primary-700/30\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold text-primary-100\",\n            children: \"Trade Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2 mt-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: `text-sm font-medium capitalize ${getStatusColor(trade.status)}`,\n              children: trade.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-primary-400\",\n              children: \"\\u2022\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-primary-400\",\n              children: formatTimeAgo(trade.updatedAt)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"p-2 hover:bg-primary-800/50 rounded-full transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-6 h-6 text-primary-300\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [listing && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-primary-100 mb-4\",\n              children: \"Target Listing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"glass-effect rounded-xl p-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-16 h-16 bg-primary-800/30 rounded-lg flex items-center justify-center\",\n                  children: targetVehicle !== null && targetVehicle !== void 0 && (_targetVehicle$images = targetVehicle.images) !== null && _targetVehicle$images !== void 0 && _targetVehicle$images[0] ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: targetVehicle.images[0],\n                    alt: listing.title,\n                    className: \"w-full h-full object-cover rounded-lg\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(Car, {\n                    className: \"w-8 h-8 text-primary-400\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-semibold text-primary-100\",\n                    children: listing.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-primary-300\",\n                    children: targetVehicle && `${targetVehicle.year} ${targetVehicle.make} ${targetVehicle.model}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-green-400 font-bold\",\n                    children: [\"$\", listing.price.toLocaleString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-primary-100 mb-4\",\n              children: isOutbound ? 'Your Offer' : 'Their Offer'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"glass-effect rounded-xl p-4 space-y-4\",\n              children: [offererVehicles.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-primary-200 mb-2\",\n                  children: [\"Vehicles (\", offererVehicles.length, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2\",\n                  children: offererVehicles.map((vehicle, index) => {\n                    var _vehicle$images, _vehicle$mileage;\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-3 bg-primary-800/20 rounded-lg p-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-10 h-10 bg-primary-800/30 rounded-lg flex items-center justify-center\",\n                        children: vehicle !== null && vehicle !== void 0 && (_vehicle$images = vehicle.images) !== null && _vehicle$images !== void 0 && _vehicle$images[0] ? /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: vehicle.images[0],\n                          alt: `${vehicle.year} ${vehicle.make} ${vehicle.model}`,\n                          className: \"w-full h-full object-cover rounded-lg\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 241,\n                          columnNumber: 31\n                        }, this) : /*#__PURE__*/_jsxDEV(Car, {\n                          className: \"w-5 h-5 text-primary-400\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 247,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 239,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"font-medium text-primary-100\",\n                          children: [vehicle === null || vehicle === void 0 ? void 0 : vehicle.year, \" \", vehicle === null || vehicle === void 0 ? void 0 : vehicle.make, \" \", vehicle === null || vehicle === void 0 ? void 0 : vehicle.model]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 251,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-primary-300\",\n                          children: [vehicle === null || vehicle === void 0 ? void 0 : (_vehicle$mileage = vehicle.mileage) === null || _vehicle$mileage === void 0 ? void 0 : _vehicle$mileage.toLocaleString(), \" mi\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 254,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 250,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-green-400 font-medium\",\n                        children: [\"$\", ((vehicle === null || vehicle === void 0 ? void 0 : vehicle.customPrice) || (vehicle === null || vehicle === void 0 ? void 0 : vehicle.estimatedValue) || 0).toLocaleString()]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 258,\n                        columnNumber: 27\n                      }, this)]\n                    }, (vehicle === null || vehicle === void 0 ? void 0 : vehicle.id) || index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 25\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 19\n              }, this), trade.offererCashAmount !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between bg-primary-800/20 rounded-lg p-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                    className: \"w-5 h-5 text-green-400\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-primary-200\",\n                    children: \"Cash\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `font-bold ${trade.offererCashAmount >= 0 ? 'text-green-400' : 'text-red-400'}`,\n                  children: [trade.offererCashAmount >= 0 ? '+' : '', \"$\", trade.offererCashAmount.toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-t border-primary-700/30 pt-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold text-primary-100\",\n                    children: \"Total Value:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-green-400 font-bold text-lg\",\n                    children: [\"$\", offererValue.toLocaleString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 17\n              }, this), trade.message && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-t border-primary-700/30 pt-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-primary-300 mb-1\",\n                  children: \"Message:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-primary-100 italic\",\n                  children: [\"\\\"\", trade.message, \"\\\"\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), trade.status === 'countered' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-primary-100 mb-4\",\n              children: isOutbound ? 'Their Counter Offer' : 'Your Counter Offer'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"glass-effect rounded-xl p-4 space-y-4 border border-purple-500/30\",\n              children: [receiverVehicles.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-primary-200 mb-2\",\n                  children: [\"Vehicles (\", receiverVehicles.length, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2\",\n                  children: receiverVehicles.map(vehicle => {\n                    var _vehicle$images2;\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-3 bg-purple-500/10 rounded-lg p-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-10 h-10 bg-primary-800/30 rounded-lg flex items-center justify-center\",\n                        children: vehicle !== null && vehicle !== void 0 && (_vehicle$images2 = vehicle.images) !== null && _vehicle$images2 !== void 0 && _vehicle$images2[0] ? /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: vehicle.images[0],\n                          alt: `${vehicle.year} ${vehicle.make} ${vehicle.model}`,\n                          className: \"w-full h-full object-cover rounded-lg\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 318,\n                          columnNumber: 33\n                        }, this) : /*#__PURE__*/_jsxDEV(Car, {\n                          className: \"w-5 h-5 text-primary-400\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 324,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 316,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"font-medium text-primary-100\",\n                          children: [vehicle === null || vehicle === void 0 ? void 0 : vehicle.year, \" \", vehicle === null || vehicle === void 0 ? void 0 : vehicle.make, \" \", vehicle === null || vehicle === void 0 ? void 0 : vehicle.model]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 328,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-primary-300\",\n                          children: [vehicle === null || vehicle === void 0 ? void 0 : vehicle.mileage.toLocaleString(), \" mi\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 331,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 327,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-purple-400 font-medium\",\n                        children: [\"$\", ((vehicle === null || vehicle === void 0 ? void 0 : vehicle.customPrice) || (vehicle === null || vehicle === void 0 ? void 0 : vehicle.estimatedValue) || 0).toLocaleString()]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 335,\n                        columnNumber: 29\n                      }, this)]\n                    }, vehicle === null || vehicle === void 0 ? void 0 : vehicle.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 315,\n                      columnNumber: 27\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 21\n              }, this), (trade.receiverCashAmount || 0) !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between bg-purple-500/10 rounded-lg p-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                    className: \"w-5 h-5 text-purple-400\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-primary-200\",\n                    children: \"Cash\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `font-bold ${(trade.receiverCashAmount || 0) >= 0 ? 'text-purple-400' : 'text-red-400'}`,\n                  children: [(trade.receiverCashAmount || 0) >= 0 ? '+' : '', \"$\", (trade.receiverCashAmount || 0).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-t border-purple-500/30 pt-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold text-primary-100\",\n                    children: \"Counter Value:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 360,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-purple-400 font-bold text-lg\",\n                    children: [\"$\", receiverValue.toLocaleString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 19\n              }, this), trade.counterMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-t border-purple-500/30 pt-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-primary-300 mb-1\",\n                  children: \"Counter Message:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-primary-100 italic\",\n                  children: [\"\\\"\", trade.counterMessage, \"\\\"\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 15\n          }, this), trade.history && trade.history.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-primary-100 mb-4\",\n              children: \"Trade History\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"glass-effect rounded-xl p-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: trade.history.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-3 text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `w-2 h-2 rounded-full ${getStatusColor(item.action)}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 386,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-primary-300\",\n                    children: formatTimeAgo(item.timestamp)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 387,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-primary-100 capitalize\",\n                    children: item.action\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 388,\n                    columnNumber: 25\n                  }, this), item.note && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-primary-400\",\n                    children: [\"- \", item.note]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 39\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [trade.status === 'pending' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-primary-100 mb-4\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"glass-effect rounded-xl p-4 space-y-3\",\n              children: !isOutbound ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleAcceptTrade,\n                  className: \"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Check, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 411,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Accept Trade\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 412,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setShowCounterModal(true),\n                  className: \"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(ArrowLeftRight, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 418,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Counter Offer\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 419,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleRejectTrade,\n                  className: \"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(X, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 425,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Reject Trade\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 421,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleCancelTrade,\n                className: \"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(X, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Cancel Trade\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 15\n          }, this), trade.status === 'countered' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-primary-100 mb-4\",\n              children: \"Counter Offer Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"glass-effect rounded-xl p-4 space-y-3\",\n              children: isOutbound ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleAcceptTrade,\n                  className: \"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Check, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 453,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Accept Counter\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 454,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setShowCounterModal(true),\n                  className: \"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(ArrowLeftRight, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 460,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"New Counter\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 461,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleRejectTrade,\n                  className: \"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(X, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 467,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Reject Counter\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 468,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center text-primary-300\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Waiting for their response to your counter offer...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-primary-100 mb-4\",\n              children: \"Send Message\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"glass-effect rounded-xl p-4 space-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: newMessage,\n                onChange: e => setNewMessage(e.target.value),\n                placeholder: \"Send a message about this trade...\",\n                className: \"w-full bg-primary-800/30 border border-primary-700/50 rounded-lg px-3 py-2 text-primary-100 placeholder-primary-400 focus:outline-none focus:border-primary-500 resize-none\",\n                rows: 3\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSendMessage,\n                disabled: !newMessage.trim(),\n                className: \"w-full bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 496,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Send Message\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-primary-100 mb-4\",\n              children: \"Trade Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"glass-effect rounded-xl p-4 space-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-primary-300\",\n                  children: \"Your Offer Value:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 507,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-green-400 font-bold\",\n                  children: [\"$\", isOutbound ? offererValue.toLocaleString() : receiverValue.toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 508,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-primary-300\",\n                  children: \"Their Offer Value:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-purple-400 font-bold\",\n                  children: [\"$\", isOutbound ? receiverValue.toLocaleString() : offererValue.toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 514,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-t border-primary-700/30 pt-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-primary-300\",\n                    children: \"Difference:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 520,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `font-bold ${Math.abs(offererValue - receiverValue) < 1000 ? 'text-green-400' : 'text-yellow-400'}`,\n                    children: [\"$\", Math.abs(offererValue - receiverValue).toLocaleString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 521,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), showCounterModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"glass-effect rounded-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold text-primary-100 mb-4\",\n              children: \"Make Counter Offer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-primary-200 mb-3\",\n                children: \"Select Your Vehicles\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2 max-h-60 overflow-y-auto\",\n                children: userVehicles.map(vehicle => {\n                  var _vehicle$images3;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${counterVehicleIds.includes(vehicle.id) ? 'bg-primary-600/30 border border-primary-500' : 'bg-primary-800/20 hover:bg-primary-800/40'}`,\n                    onClick: () => handleVehicleToggle(vehicle.id),\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-12 h-12 bg-primary-800/30 rounded-lg flex items-center justify-center\",\n                      children: (_vehicle$images3 = vehicle.images) !== null && _vehicle$images3 !== void 0 && _vehicle$images3[0] ? /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: vehicle.images[0],\n                        alt: `${vehicle.year} ${vehicle.make} ${vehicle.model}`,\n                        className: \"w-full h-full object-cover rounded-lg\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 554,\n                        columnNumber: 29\n                      }, this) : /*#__PURE__*/_jsxDEV(Car, {\n                        className: \"w-6 h-6 text-primary-400\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 560,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 552,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"font-medium text-primary-100\",\n                        children: [vehicle.year, \" \", vehicle.make, \" \", vehicle.model]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 564,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-sm text-primary-300\",\n                        children: [vehicle.mileage.toLocaleString(), \" mi\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 567,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 563,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-green-400 font-medium\",\n                      children: [\"$\", (vehicle.customPrice || vehicle.estimatedValue).toLocaleString()]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 571,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `w-5 h-5 rounded border-2 flex items-center justify-center ${counterVehicleIds.includes(vehicle.id) ? 'bg-primary-500 border-primary-500' : 'border-primary-600'}`,\n                      children: counterVehicleIds.includes(vehicle.id) && /*#__PURE__*/_jsxDEV(Check, {\n                        className: \"w-3 h-3 text-white\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 580,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 574,\n                      columnNumber: 25\n                    }, this)]\n                  }, vehicle.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 543,\n                    columnNumber: 23\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-primary-200 mb-2\",\n                children: \"Cash Amount (+ to add, - to request)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 590,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: counterCashAmount === 0 ? '' : counterCashAmount,\n                onChange: e => setCounterCashAmount(e.target.value === '' ? 0 : parseInt(e.target.value) || 0),\n                placeholder: \"0\",\n                className: \"w-full bg-primary-800/30 border border-primary-700/50 rounded-lg px-3 py-2 text-primary-100 placeholder-primary-400 focus:outline-none focus:border-primary-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 593,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-primary-200 mb-2\",\n                children: \"Message (optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 604,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: counterMessage,\n                onChange: e => setCounterMessage(e.target.value),\n                placeholder: \"Explain your counter offer...\",\n                className: \"w-full bg-primary-800/30 border border-primary-700/50 rounded-lg px-3 py-2 text-primary-100 placeholder-primary-400 focus:outline-none focus:border-primary-500 resize-none\",\n                rows: 3\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 607,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 603,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6 p-4 bg-purple-500/10 rounded-lg border border-purple-500/30\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-primary-200\",\n                  children: \"Counter Offer Value:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 619,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-purple-400 font-bold text-lg\",\n                  children: [\"$\", (counterVehicleIds.reduce((sum, id) => {\n                    const vehicle = userVehicles.find(v => v.id === id);\n                    return sum + ((vehicle === null || vehicle === void 0 ? void 0 : vehicle.customPrice) || (vehicle === null || vehicle === void 0 ? void 0 : vehicle.estimatedValue) || 0);\n                  }, 0) + counterCashAmount).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 620,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 618,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 617,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowCounterModal(false),\n                className: \"flex-1 bg-primary-700 hover:bg-primary-600 text-primary-100 font-medium py-2 px-4 rounded-lg transition-colors\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 631,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleCounterOffer,\n                disabled: counterVehicleIds.length === 0,\n                className: \"flex-1 bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2 px-4 rounded-lg transition-colors\",\n                children: \"Send Counter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 637,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }, this);\n}\n_s(TradeDetailModal, \"Z9XZCh3CgCIhhPI9D+UGTK2LpA8=\", false, function () {\n  return [useApp];\n});\n_c = TradeDetailModal;\nvar _c;\n$RefreshReg$(_c, \"TradeDetailModal\");","map":{"version":3,"names":["React","useState","motion","X","Check","ArrowLeftRight","MessageCircle","DollarSign","Car","useApp","updateTrade","sendMessage","jsxDEV","_jsxDEV","Fragment","_Fragment","TradeDetailModal","trade","isOutbound","onClose","_s","_trade$offererVehicle","_trade$receiverVehicl","_targetVehicle$images","state","currentUser","user","vehicles","userVehicles","allListings","listings","users","updateTradeFromContext","sendMessageFromContext","newMessage","setNewMessage","showCounterModal","setShowCounterModal","counterVehicleIds","setCounterVehicleIds","counterCashAmount","setCounterCashAmount","counterMessage","setCounterMessage","offererUser","find","u","_trade$offererUserId","_trade$offererUserId2","offererUserId","_id","id","receiverUser","_trade$receiverUserId","_trade$receiverUserId2","receiverUserId","listing","l","_trade$listingId","_trade$listingId2","listingId","targetVehicle","v","vehicleId","offererVehicles","offererVehicleIds","map","filter","Boolean","receiverVehicles","receiverVehicleIds","offererValue","reduce","sum","vehicle","customPrice","estimatedValue","offererCashAmount","receiverValue","receiverCashAmount","formatTimeAgo","dateString","date","Date","now","diffInMinutes","Math","floor","getTime","handleAcceptTrade","status","loadAllListings","error","console","handleRejectTrade","handleCancelTrade","handleCounterOffer","handleSendMessage","trim","_trade$receiverUserId3","_trade$receiverUserId4","_trade$offererUserId3","_trade$offererUserId4","otherUserId","receiverId","content","tradeId","handleVehicleToggle","prev","includes","getStatusColor","div","initial","opacity","animate","exit","className","onClick","e","target","currentTarget","children","scale","fileName","_jsxFileName","lineNumber","columnNumber","updatedAt","images","src","alt","title","year","make","model","price","toLocaleString","length","index","_vehicle$images","_vehicle$mileage","mileage","message","_vehicle$images2","history","item","action","timestamp","note","value","onChange","placeholder","rows","disabled","abs","_vehicle$images3","type","parseInt","_c","$RefreshReg$"],"sources":["C:/Users/thato/Downloads/car-app/src/components/trades/TradeDetailModal.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { X, Check, ArrowLeftRight, MessageCircle, DollarSign, Car } from 'lucide-react';\r\nimport { Trade, Vehicle, Listing, User } from '../../types';\r\nimport { useApp } from '../../context/AppContext.tsx';\r\nimport { updateTrade, sendMessage } from '../../services/apiService';\r\n\r\ninterface TradeDetailModalProps {\r\n  trade: Trade;\r\n  isOutbound: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nexport default function TradeDetailModal({ trade, isOutbound, onClose }: TradeDetailModalProps) {\r\n  const { \r\n    state: { currentUser: user, vehicles: userVehicles, allListings: listings, users },\r\n    updateTrade: updateTradeFromContext,\r\n    sendMessage: sendMessageFromContext\r\n  } = useApp();\r\n\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [showCounterModal, setShowCounterModal] = useState(false);\r\n  const [counterVehicleIds, setCounterVehicleIds] = useState<string[]>([]);\r\n  const [counterCashAmount, setCounterCashAmount] = useState(0);\r\n  const [counterMessage, setCounterMessage] = useState('');\r\n\r\n  // Get trade participants\r\n  const offererUser = users.find(u => \r\n    (typeof trade.offererUserId === 'string' ? trade.offererUserId : trade.offererUserId?._id || trade.offererUserId?.id) === u.id\r\n  ) || (typeof trade.offererUserId === 'object' ? trade.offererUserId : null);\r\n\r\n  const receiverUser = users.find(u => \r\n    (typeof trade.receiverUserId === 'string' ? trade.receiverUserId : trade.receiverUserId?._id || trade.receiverUserId?.id) === u.id\r\n  ) || (typeof trade.receiverUserId === 'object' ? trade.receiverUserId : null);\r\n\r\n  // Get listing\r\n  const listing = listings.find(l => \r\n    (typeof trade.listingId === 'string' ? trade.listingId : trade.listingId?._id || trade.listingId?.id) === l.id\r\n  ) || (typeof trade.listingId === 'object' ? trade.listingId : null);\r\n\r\n  // Get vehicles\r\n  const targetVehicle = listing ? userVehicles.find(v => v.id === listing.vehicleId) : null;\r\n  \r\n  const offererVehicles = trade.offererVehicleIds?.map(id => \r\n    userVehicles.find(v => v.id === id)\r\n  ).filter(Boolean) || [];\r\n\r\n  const receiverVehicles = trade.receiverVehicleIds?.map(id => \r\n    userVehicles.find(v => v.id === id)\r\n  ).filter(Boolean) || [];\r\n\r\n  // Calculate values\r\n  const offererValue = offererVehicles.reduce((sum, vehicle) => \r\n    sum + (vehicle?.customPrice || vehicle?.estimatedValue || 0), 0\r\n  ) + (trade.offererCashAmount || 0);\r\n\r\n  const receiverValue = receiverVehicles.reduce((sum, vehicle) => \r\n    sum + (vehicle?.customPrice || vehicle?.estimatedValue || 0), 0\r\n  ) + (trade.receiverCashAmount || 0);\r\n\r\n  const formatTimeAgo = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffInMinutes = Math.floor((now.getTime() - date.getTime()) / (1000 * 60));\r\n    \r\n    if (diffInMinutes < 1) return 'Just now';\r\n    if (diffInMinutes < 60) return `${diffInMinutes}m ago`;\r\n    if (diffInMinutes < 1440) return `${Math.floor(diffInMinutes / 60)}h ago`;\r\n    return `${Math.floor(diffInMinutes / 1440)}d ago`;\r\n  };\r\n\r\n  const handleAcceptTrade = async () => {\r\n    try {\r\n      await updateTrade(trade.id, { status: 'accepted' });\r\n      await loadAllListings();\r\n      onClose();\r\n    } catch (error) {\r\n      console.error('Error accepting trade:', error);\r\n    }\r\n  };\r\n\r\n  const handleRejectTrade = async () => {\r\n    try {\r\n      await updateTrade(trade.id, { status: 'rejected' });\r\n      await loadAllListings();\r\n      onClose();\r\n    } catch (error) {\r\n      console.error('Error rejecting trade:', error);\r\n    }\r\n  };\r\n\r\n  const handleCancelTrade = async () => {\r\n    try {\r\n      await updateTrade(trade.id, { status: 'cancelled' });\r\n      await loadAllListings();\r\n      onClose();\r\n    } catch (error) {\r\n      console.error('Error cancelling trade:', error);\r\n    }\r\n  };\r\n\r\n  const handleCounterOffer = async () => {\r\n    try {\r\n      await updateTrade(trade.id, {\r\n        status: 'countered',\r\n        receiverVehicleIds: counterVehicleIds,\r\n        receiverCashAmount: counterCashAmount,\r\n        counterMessage: counterMessage\r\n      });\r\n      await loadAllListings();\r\n      setShowCounterModal(false);\r\n      onClose();\r\n    } catch (error) {\r\n      console.error('Error sending counter offer:', error);\r\n    }\r\n  };\r\n\r\n  const handleSendMessage = async () => {\r\n    if (!newMessage.trim()) return;\r\n    \r\n    try {\r\n      const otherUserId = isOutbound ? \r\n        (typeof trade.receiverUserId === 'string' ? trade.receiverUserId : trade.receiverUserId?._id || trade.receiverUserId?.id) :\r\n        (typeof trade.offererUserId === 'string' ? trade.offererUserId : trade.offererUserId?._id || trade.offererUserId?.id);\r\n      \r\n      await sendMessage({\r\n        receiverId: otherUserId,\r\n        content: newMessage,\r\n        tradeId: trade.id\r\n      });\r\n      setNewMessage('');\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n    }\r\n  };\r\n\r\n  const handleVehicleToggle = (vehicleId: string) => {\r\n    setCounterVehicleIds(prev => \r\n      prev.includes(vehicleId) \r\n        ? prev.filter(id => id !== vehicleId)\r\n        : [...prev, vehicleId]\r\n    );\r\n  };\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'pending': return 'text-yellow-400';\r\n      case 'accepted': return 'text-green-400';\r\n      case 'rejected': return 'text-red-400';\r\n      case 'cancelled': return 'text-gray-400';\r\n      case 'countered': return 'text-purple-400';\r\n      default: return 'text-primary-300';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n      className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\"\r\n      onClick={(e) => e.target === e.currentTarget && onClose()}\r\n    >\r\n      <motion.div\r\n        initial={{ scale: 0.9, opacity: 0 }}\r\n        animate={{ scale: 1, opacity: 1 }}\r\n        exit={{ scale: 0.9, opacity: 0 }}\r\n        className=\"glass-effect rounded-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto\"\r\n      >\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-6 border-b border-primary-700/30\">\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-primary-100\">Trade Details</h1>\r\n            <div className=\"flex items-center space-x-2 mt-1\">\r\n              <span className={`text-sm font-medium capitalize ${getStatusColor(trade.status)}`}>\r\n                {trade.status}\r\n              </span>\r\n              <span className=\"text-primary-400\"></span>\r\n              <span className=\"text-sm text-primary-400\">{formatTimeAgo(trade.updatedAt)}</span>\r\n            </div>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-2 hover:bg-primary-800/50 rounded-full transition-colors\"\r\n          >\r\n            <X className=\"w-6 h-6 text-primary-300\" />\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6\">\r\n          {/* Left Column - Trade Details */}\r\n          <div className=\"space-y-6\">\r\n            {/* Target Listing */}\r\n            {listing && (\r\n              <div>\r\n                <h3 className=\"text-lg font-semibold text-primary-100 mb-4\">Target Listing</h3>\r\n                <div className=\"glass-effect rounded-xl p-4\">\r\n                  <div className=\"flex items-center space-x-4\">\r\n                    <div className=\"w-16 h-16 bg-primary-800/30 rounded-lg flex items-center justify-center\">\r\n                      {targetVehicle?.images?.[0] ? (\r\n                        <img\r\n                          src={targetVehicle.images[0]}\r\n                          alt={listing.title}\r\n                          className=\"w-full h-full object-cover rounded-lg\"\r\n                        />\r\n                      ) : (\r\n                        <Car className=\"w-8 h-8 text-primary-400\" />\r\n                      )}\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <h4 className=\"font-semibold text-primary-100\">{listing.title}</h4>\r\n                      <p className=\"text-sm text-primary-300\">\r\n                        {targetVehicle && `${targetVehicle.year} ${targetVehicle.make} ${targetVehicle.model}`}\r\n                      </p>\r\n                      <p className=\"text-green-400 font-bold\">\r\n                        ${listing.price.toLocaleString()}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Offerer's Offer */}\r\n            <div>\r\n              <h3 className=\"text-lg font-semibold text-primary-100 mb-4\">\r\n                {isOutbound ? 'Your Offer' : 'Their Offer'}\r\n              </h3>\r\n              <div className=\"glass-effect rounded-xl p-4 space-y-4\">\r\n                {/* Vehicles */}\r\n                {offererVehicles.length > 0 && (\r\n                  <div>\r\n                    <h4 className=\"font-medium text-primary-200 mb-2\">\r\n                      Vehicles ({offererVehicles.length})\r\n                    </h4>\r\n                    <div className=\"space-y-2\">\r\n                      {offererVehicles.map((vehicle, index) => (\r\n                        <div key={vehicle?.id || index} className=\"flex items-center space-x-3 bg-primary-800/20 rounded-lg p-3\">\r\n                          <div className=\"w-10 h-10 bg-primary-800/30 rounded-lg flex items-center justify-center\">\r\n                            {vehicle?.images?.[0] ? (\r\n                              <img\r\n                                src={vehicle.images[0]}\r\n                                alt={`${vehicle.year} ${vehicle.make} ${vehicle.model}`}\r\n                                className=\"w-full h-full object-cover rounded-lg\"\r\n                              />\r\n                            ) : (\r\n                              <Car className=\"w-5 h-5 text-primary-400\" />\r\n                            )}\r\n                          </div>\r\n                          <div className=\"flex-1\">\r\n                            <p className=\"font-medium text-primary-100\">\r\n                              {vehicle?.year} {vehicle?.make} {vehicle?.model}\r\n                            </p>\r\n                            <p className=\"text-sm text-primary-300\">\r\n                              {vehicle?.mileage?.toLocaleString()} mi\r\n                            </p>\r\n                          </div>\r\n                          <p className=\"text-green-400 font-medium\">\r\n                            ${(vehicle?.customPrice || vehicle?.estimatedValue || 0).toLocaleString()}\r\n                          </p>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Cash */}\r\n                {trade.offererCashAmount !== 0 && (\r\n                  <div className=\"flex items-center justify-between bg-primary-800/20 rounded-lg p-3\">\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <DollarSign className=\"w-5 h-5 text-green-400\" />\r\n                      <span className=\"text-primary-200\">Cash</span>\r\n                    </div>\r\n                    <span className={`font-bold ${trade.offererCashAmount >= 0 ? 'text-green-400' : 'text-red-400'}`}>\r\n                      {trade.offererCashAmount >= 0 ? '+' : ''}${trade.offererCashAmount.toLocaleString()}\r\n                    </span>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Total */}\r\n                <div className=\"border-t border-primary-700/30 pt-3\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"font-semibold text-primary-100\">Total Value:</span>\r\n                    <span className=\"text-green-400 font-bold text-lg\">\r\n                      ${offererValue.toLocaleString()}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Message */}\r\n                {trade.message && (\r\n                  <div className=\"border-t border-primary-700/30 pt-3\">\r\n                    <p className=\"text-sm text-primary-300 mb-1\">Message:</p>\r\n                    <p className=\"text-primary-100 italic\">\"{trade.message}\"</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Counter Offer (if exists) */}\r\n            {trade.status === 'countered' && (\r\n              <div>\r\n                <h3 className=\"text-lg font-semibold text-primary-100 mb-4\">\r\n                  {isOutbound ? 'Their Counter Offer' : 'Your Counter Offer'}\r\n                </h3>\r\n                <div className=\"glass-effect rounded-xl p-4 space-y-4 border border-purple-500/30\">\r\n                  {/* Counter Vehicles */}\r\n                  {receiverVehicles.length > 0 && (\r\n                    <div>\r\n                      <h4 className=\"font-medium text-primary-200 mb-2\">\r\n                        Vehicles ({receiverVehicles.length})\r\n                      </h4>\r\n                      <div className=\"space-y-2\">\r\n                        {receiverVehicles.map((vehicle) => (\r\n                          <div key={vehicle?.id} className=\"flex items-center space-x-3 bg-purple-500/10 rounded-lg p-3\">\r\n                            <div className=\"w-10 h-10 bg-primary-800/30 rounded-lg flex items-center justify-center\">\r\n                              {vehicle?.images?.[0] ? (\r\n                                <img\r\n                                  src={vehicle.images[0]}\r\n                                  alt={`${vehicle.year} ${vehicle.make} ${vehicle.model}`}\r\n                                  className=\"w-full h-full object-cover rounded-lg\"\r\n                                />\r\n                              ) : (\r\n                                <Car className=\"w-5 h-5 text-primary-400\" />\r\n                              )}\r\n                            </div>\r\n                            <div className=\"flex-1\">\r\n                              <p className=\"font-medium text-primary-100\">\r\n                                {vehicle?.year} {vehicle?.make} {vehicle?.model}\r\n                              </p>\r\n                              <p className=\"text-sm text-primary-300\">\r\n                                {vehicle?.mileage.toLocaleString()} mi\r\n                              </p>\r\n                            </div>\r\n                            <p className=\"text-purple-400 font-medium\">\r\n                              ${(vehicle?.customPrice || vehicle?.estimatedValue || 0).toLocaleString()}\r\n                            </p>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Counter Cash */}\r\n                  {(trade.receiverCashAmount || 0) !== 0 && (\r\n                    <div className=\"flex items-center justify-between bg-purple-500/10 rounded-lg p-3\">\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <DollarSign className=\"w-5 h-5 text-purple-400\" />\r\n                        <span className=\"text-primary-200\">Cash</span>\r\n                      </div>\r\n                      <span className={`font-bold ${(trade.receiverCashAmount || 0) >= 0 ? 'text-purple-400' : 'text-red-400'}`}>\r\n                        {(trade.receiverCashAmount || 0) >= 0 ? '+' : ''}${(trade.receiverCashAmount || 0).toLocaleString()}\r\n                      </span>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Counter Total */}\r\n                  <div className=\"border-t border-purple-500/30 pt-3\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <span className=\"font-semibold text-primary-100\">Counter Value:</span>\r\n                      <span className=\"text-purple-400 font-bold text-lg\">\r\n                        ${receiverValue.toLocaleString()}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Counter Message */}\r\n                  {trade.counterMessage && (\r\n                    <div className=\"border-t border-purple-500/30 pt-3\">\r\n                      <p className=\"text-sm text-primary-300 mb-1\">Counter Message:</p>\r\n                      <p className=\"text-primary-100 italic\">\"{trade.counterMessage}\"</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Trade History */}\r\n            {trade.history && trade.history.length > 0 && (\r\n              <div>\r\n                <h3 className=\"text-lg font-semibold text-primary-100 mb-4\">Trade History</h3>\r\n                <div className=\"glass-effect rounded-xl p-4\">\r\n                  <div className=\"space-y-3\">\r\n                    {trade.history.map((item, index) => (\r\n                      <div key={index} className=\"flex items-center space-x-3 text-sm\">\r\n                        <div className={`w-2 h-2 rounded-full ${getStatusColor(item.action)}`} />\r\n                        <span className=\"text-primary-300\">{formatTimeAgo(item.timestamp)}</span>\r\n                        <span className=\"text-primary-100 capitalize\">{item.action}</span>\r\n                        {item.note && <span className=\"text-primary-400\">- {item.note}</span>}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Right Column - Actions & Messages */}\r\n          <div className=\"space-y-6\">\r\n            {/* Trade Actions */}\r\n            {trade.status === 'pending' && (\r\n              <div>\r\n                <h3 className=\"text-lg font-semibold text-primary-100 mb-4\">Actions</h3>\r\n                <div className=\"glass-effect rounded-xl p-4 space-y-3\">\r\n                  {!isOutbound ? (\r\n                    <>\r\n                      <button\r\n                        onClick={handleAcceptTrade}\r\n                        className=\"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\"\r\n                      >\r\n                        <Check className=\"w-5 h-5\" />\r\n                        <span>Accept Trade</span>\r\n                      </button>\r\n                      <button\r\n                        onClick={() => setShowCounterModal(true)}\r\n                        className=\"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\"\r\n                      >\r\n                        <ArrowLeftRight className=\"w-5 h-5\" />\r\n                        <span>Counter Offer</span>\r\n                      </button>\r\n                      <button\r\n                        onClick={handleRejectTrade}\r\n                        className=\"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\"\r\n                      >\r\n                        <X className=\"w-5 h-5\" />\r\n                        <span>Reject Trade</span>\r\n                      </button>\r\n                    </>\r\n                  ) : (\r\n                    <button\r\n                      onClick={handleCancelTrade}\r\n                      className=\"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\"\r\n                    >\r\n                      <X className=\"w-5 h-5\" />\r\n                      <span>Cancel Trade</span>\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Counter Offer Actions */}\r\n            {trade.status === 'countered' && (\r\n              <div>\r\n                <h3 className=\"text-lg font-semibold text-primary-100 mb-4\">Counter Offer Actions</h3>\r\n                <div className=\"glass-effect rounded-xl p-4 space-y-3\">\r\n                  {isOutbound ? (\r\n                    <>\r\n                      <button\r\n                        onClick={handleAcceptTrade}\r\n                        className=\"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\"\r\n                      >\r\n                        <Check className=\"w-5 h-5\" />\r\n                        <span>Accept Counter</span>\r\n                      </button>\r\n                      <button\r\n                        onClick={() => setShowCounterModal(true)}\r\n                        className=\"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\"\r\n                      >\r\n                        <ArrowLeftRight className=\"w-5 h-5\" />\r\n                        <span>New Counter</span>\r\n                      </button>\r\n                      <button\r\n                        onClick={handleRejectTrade}\r\n                        className=\"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\"\r\n                      >\r\n                        <X className=\"w-5 h-5\" />\r\n                        <span>Reject Counter</span>\r\n                      </button>\r\n                    </>\r\n                  ) : (\r\n                    <div className=\"text-center text-primary-300\">\r\n                      <p>Waiting for their response to your counter offer...</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Quick Message */}\r\n            <div>\r\n              <h3 className=\"text-lg font-semibold text-primary-100 mb-4\">Send Message</h3>\r\n              <div className=\"glass-effect rounded-xl p-4 space-y-3\">\r\n                <textarea\r\n                  value={newMessage}\r\n                  onChange={(e) => setNewMessage(e.target.value)}\r\n                  placeholder=\"Send a message about this trade...\"\r\n                  className=\"w-full bg-primary-800/30 border border-primary-700/50 rounded-lg px-3 py-2 text-primary-100 placeholder-primary-400 focus:outline-none focus:border-primary-500 resize-none\"\r\n                  rows={3}\r\n                />\r\n                <button\r\n                  onClick={handleSendMessage}\r\n                  disabled={!newMessage.trim()}\r\n                  className=\"w-full bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\"\r\n                >\r\n                  <MessageCircle className=\"w-4 h-4\" />\r\n                  <span>Send Message</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Trade Summary */}\r\n            <div>\r\n              <h3 className=\"text-lg font-semibold text-primary-100 mb-4\">Trade Summary</h3>\r\n              <div className=\"glass-effect rounded-xl p-4 space-y-3\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"text-primary-300\">Your Offer Value:</span>\r\n                  <span className=\"text-green-400 font-bold\">\r\n                    ${isOutbound ? offererValue.toLocaleString() : receiverValue.toLocaleString()}\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"text-primary-300\">Their Offer Value:</span>\r\n                  <span className=\"text-purple-400 font-bold\">\r\n                    ${isOutbound ? receiverValue.toLocaleString() : offererValue.toLocaleString()}\r\n                  </span>\r\n                </div>\r\n                <div className=\"border-t border-primary-700/30 pt-3\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-primary-300\">Difference:</span>\r\n                    <span className={`font-bold ${Math.abs(offererValue - receiverValue) < 1000 ? 'text-green-400' : 'text-yellow-400'}`}>\r\n                      ${Math.abs(offererValue - receiverValue).toLocaleString()}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Counter Offer Modal */}\r\n        {showCounterModal && (\r\n          <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\r\n            <div className=\"glass-effect rounded-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto\">\r\n              <div className=\"p-6\">\r\n                <h2 className=\"text-xl font-bold text-primary-100 mb-4\">Make Counter Offer</h2>\r\n                \r\n                {/* Vehicle Selection */}\r\n                <div className=\"mb-6\">\r\n                  <h3 className=\"font-semibold text-primary-200 mb-3\">Select Your Vehicles</h3>\r\n                  <div className=\"space-y-2 max-h-60 overflow-y-auto\">\r\n                    {userVehicles.map((vehicle) => (\r\n                      <div\r\n                        key={vehicle.id}\r\n                        className={`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${\r\n                          counterVehicleIds.includes(vehicle.id)\r\n                            ? 'bg-primary-600/30 border border-primary-500'\r\n                            : 'bg-primary-800/20 hover:bg-primary-800/40'\r\n                        }`}\r\n                        onClick={() => handleVehicleToggle(vehicle.id)}\r\n                      >\r\n                        <div className=\"w-12 h-12 bg-primary-800/30 rounded-lg flex items-center justify-center\">\r\n                          {vehicle.images?.[0] ? (\r\n                            <img\r\n                              src={vehicle.images[0]}\r\n                              alt={`${vehicle.year} ${vehicle.make} ${vehicle.model}`}\r\n                              className=\"w-full h-full object-cover rounded-lg\"\r\n                            />\r\n                          ) : (\r\n                            <Car className=\"w-6 h-6 text-primary-400\" />\r\n                          )}\r\n                        </div>\r\n                        <div className=\"flex-1\">\r\n                          <p className=\"font-medium text-primary-100\">\r\n                            {vehicle.year} {vehicle.make} {vehicle.model}\r\n                          </p>\r\n                          <p className=\"text-sm text-primary-300\">\r\n                            {vehicle.mileage.toLocaleString()} mi\r\n                          </p>\r\n                        </div>\r\n                        <p className=\"text-green-400 font-medium\">\r\n                          ${(vehicle.customPrice || vehicle.estimatedValue).toLocaleString()}\r\n                        </p>\r\n                        <div className={`w-5 h-5 rounded border-2 flex items-center justify-center ${\r\n                          counterVehicleIds.includes(vehicle.id)\r\n                            ? 'bg-primary-500 border-primary-500'\r\n                            : 'border-primary-600'\r\n                        }`}>\r\n                          {counterVehicleIds.includes(vehicle.id) && (\r\n                            <Check className=\"w-3 h-3 text-white\" />\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Cash Amount */}\r\n                <div className=\"mb-6\">\r\n                  <label className=\"block text-sm font-medium text-primary-200 mb-2\">\r\n                    Cash Amount (+ to add, - to request)\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={counterCashAmount === 0 ? '' : counterCashAmount}\r\n                    onChange={(e) => setCounterCashAmount(e.target.value === '' ? 0 : parseInt(e.target.value) || 0)}\r\n                    placeholder=\"0\"\r\n                    className=\"w-full bg-primary-800/30 border border-primary-700/50 rounded-lg px-3 py-2 text-primary-100 placeholder-primary-400 focus:outline-none focus:border-primary-500\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Counter Message */}\r\n                <div className=\"mb-6\">\r\n                  <label className=\"block text-sm font-medium text-primary-200 mb-2\">\r\n                    Message (optional)\r\n                  </label>\r\n                  <textarea\r\n                    value={counterMessage}\r\n                    onChange={(e) => setCounterMessage(e.target.value)}\r\n                    placeholder=\"Explain your counter offer...\"\r\n                    className=\"w-full bg-primary-800/30 border border-primary-700/50 rounded-lg px-3 py-2 text-primary-100 placeholder-primary-400 focus:outline-none focus:border-primary-500 resize-none\"\r\n                    rows={3}\r\n                  />\r\n                </div>\r\n\r\n                {/* Counter Value Display */}\r\n                <div className=\"mb-6 p-4 bg-purple-500/10 rounded-lg border border-purple-500/30\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-primary-200\">Counter Offer Value:</span>\r\n                    <span className=\"text-purple-400 font-bold text-lg\">\r\n                      ${(counterVehicleIds.reduce((sum, id) => {\r\n                        const vehicle = userVehicles.find(v => v.id === id);\r\n                        return sum + (vehicle?.customPrice || vehicle?.estimatedValue || 0);\r\n                      }, 0) + counterCashAmount).toLocaleString()}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Actions */}\r\n                <div className=\"flex space-x-3\">\r\n                  <button\r\n                    onClick={() => setShowCounterModal(false)}\r\n                    className=\"flex-1 bg-primary-700 hover:bg-primary-600 text-primary-100 font-medium py-2 px-4 rounded-lg transition-colors\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    onClick={handleCounterOffer}\r\n                    disabled={counterVehicleIds.length === 0}\r\n                    className=\"flex-1 bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2 px-4 rounded-lg transition-colors\"\r\n                  >\r\n                    Send Counter\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </motion.div>\r\n    </motion.div>\r\n  );\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}